### –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SelectMany –∏ –ø—Ä–æ–µ–∫—Ü–∏—é —Å–ª–æ–∂–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

#### üìò –ß—Ç–æ –¥–µ–ª–∞–µ—Ç SelectMany
`SelectMany` ‚Äî —ç—Ç–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π **‚Äú—Ä–∞—Å–ø–ª—é—â–∏–≤–∞–µ—Ç‚Äù –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏** (flattening).  
–û–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–ª–µ–∫—Ü–∏—é –∫–æ–ª–ª–µ–∫—Ü–∏–π –≤ **–æ–¥–∏–Ω –æ–±—â–∏–π –ø–æ—Ç–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤**.

---

#### üß© –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä
```csharp
var users = new[]
{
    new { Name = "–ê–Ω—è", Orders = new[] { "–ù–æ—É—Ç–±—É–∫", "–ú—ã—à—å" } },
    new { Name = "–ë–æ—Ä–∏—Å", Orders = new[] { "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞" } }
};

// –ë–µ–∑ SelectMany: –∫–æ–ª–ª–µ–∫—Ü–∏—è –º–∞—Å—Å–∏–≤–æ–≤ –∑–∞–∫–∞–∑–æ–≤
var nested = users.Select(u => u.Orders);
// nested: IEnumerable<string[]>

// –° SelectMany: –µ–¥–∏–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
var flat = users.SelectMany(u => u.Orders);
// flat: IEnumerable<string>

foreach (var o in flat)
    Console.WriteLine(o);
/*
–ù–æ—É—Ç–±—É–∫
–ú—ã—à—å
–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
*/
```
üëâ `SelectMany` –ø–æ–ª–µ–∑–µ–Ω, –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å **–≤—Å–µ –≤–ª–æ–∂–µ–Ω–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã** –∫–∞–∫ –æ–¥–Ω—É –∫–æ–ª–ª–µ–∫—Ü–∏—é.

---

#### üß± –° –ø—Ä–æ–µ–∫—Ü–∏–µ–π –¥–∞–Ω–Ω—ã—Ö
–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `SelectMany` –Ω–µ —Ç–æ–ª—å–∫–æ –¥–ª—è "—Ä–∞—Å–ø–ª—é—â–∏–≤–∞–Ω–∏—è", –Ω–æ –∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **–ø—Ä–æ–µ–∫—Ü–∏–π**, –∫–æ—Ç–æ—Ä—ã–µ —Å–≤—è–∑—ã–≤–∞—é—Ç —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∏ –¥–æ—á–µ—Ä–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ.
```csharp
var result = users.SelectMany(
    u => u.Orders,
    (u, order) => new { u.Name, Order = order }
);

foreach (var item in result)
    Console.WriteLine($"{item.Name} –∑–∞–∫–∞–∑–∞–ª {item.Order}");
/*
–ê–Ω—è –∑–∞–∫–∞–∑–∞–ª –ù–æ—É—Ç–±—É–∫
–ê–Ω—è –∑–∞–∫–∞–∑–∞–ª –ú—ã—à—å
–ë–æ—Ä–∏—Å –∑–∞–∫–∞–∑–∞–ª –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞
*/
```
üìå –ó–¥–µ—Å—å –≤—Ç–æ—Ä–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä ‚Äî **—Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–µ–∫—Ü–∏–∏**, –∫–æ—Ç–æ—Ä–∞—è –∫–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –∏–∑ –≤–Ω–µ—à–Ω–µ–π –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.

---
üß† –ü—Ä–∏–º–µ—Ä —Å –∫–ª–∞—Å—Å–∞–º–∏:
```csharp
class User
{
    public string Name { get; set; }
    public List<Order> Orders { get; set; }
}
class Order
{
    public string Product { get; set; }
    public decimal Price { get; set; }
}

var users = new List<User>
{
    new User { Name = "–ê–Ω—è", Orders = new() { new Order { Product = "–ù–æ—É—Ç–±—É–∫", Price = 500 } } },
    new User { Name = "–ë–æ—Ä–∏—Å", Orders = new() { new Order { Product = "–ú—ã—à—å", Price = 50 }, new Order { Product = "–ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞", Price = 100 } } }
};

var query = users.SelectMany(
    u => u.Orders,
    (u, o) => new { u.Name, o.Product, o.Price }
);

foreach (var item in query)
    Console.WriteLine($"{item.Name} ‚Äî {item.Product}: {item.Price}");
```

---
#### üí° –†–µ–∑—é–º–µ

| –ú–µ—Ç–æ–¥        | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ                         | –†–µ–∑—É–ª—å—Ç–∞—Ç                  |
| ------------ | ---------------------------------- | -------------------------- |
| `Select`     | –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç         | –ö–æ–ª–ª–µ–∫—Ü–∏—è —Ç–æ–π –∂–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã |
| `SelectMany` | ‚Äú–†–∞—Å–ø–ª—é—â–∏–≤–∞–µ—Ç‚Äù –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ | –ï–¥–∏–Ω—ã–π –ø–æ—Ç–æ–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤     |
**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**

- –ö–æ–≥–¥–∞ –µ—Å—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–π (`List<List<T>>`, `IEnumerable<Child[]>`).
- –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å **–ø–ª–æ—Å–∫—É—é –ø—Ä–æ–µ–∫—Ü–∏—é** —Å–ª–æ–∂–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤.
- –ö–æ–≥–¥–∞ –≤–∞–∂–Ω–æ —Å–≤—è–∑–∞—Ç—å —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∏ –¥–æ—á–µ—Ä–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –∑–∞–ø—Ä–æ—Å–µ.

---
üìé **–ó–∞–ø–æ–º–Ω–∏:**  
`Select` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–¥–∏–Ω —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç,  
`SelectMany` ‚Äî **–º–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** (flatten).