| Вопрос/Тема                                     | Junior                                                                                                                                                                                                                                                                                                  | Middle                                                                                                                                                                                                                                                                                  | Senior                                                                                                                                                                                                                                                                                             |
| ----------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| *Основы реляционных БД*                         | <ul><li>Что такое таблица, колонка, строка, и зачем нужны ключи?</li><li>Как создавать таблицы с типами данных (CREATE TABLE)?</li><li>Когда использовать первичный и внешний ключи?</li></ul>                                                                                                          | <ul><li>Как проектировать схемы с учётом нормализации?</li><li>Как использовать ограничения (CHECK, DEFAULT, UNIQUE)?</li><li>Когда применять денормализацию (и зачем)?</li></ul>                                                                                                       | <ul><li>Как строить расширяемые схемы с учетом бизнес-гибкости?</li><li>Как управлять эволюцией схемы в больших системах?</li><li>Когда разделять таблицы по контекстам (модулям/сервисам)?</li></ul>                                                                                              |
| *SQL-запросы*                                   | <ul><li>Что такое SELECT, INSERT, UPDATE, DELETE?</li><li>Как фильтровать данные с WHERE?</li><li>Как сортировать и ограничивать результат (ORDER BY, TOP, LIMIT)?</li></ul>                                                                                                                            | <ul><li>Как объединять таблицы с помощью JOIN?</li><li>Как использовать подзапросы (IN, EXISTS, вложенные SELECT)?</li><li>Когда использовать GROUP BY, HAVING и агрегаты (SUM, AVG)?</li></ul>                                                                                         | <ul><li>Как оптимизировать сложные запросы?</li><li>Как использовать оконные функции (OVER, RANK, LEAD, LAG)?</li><li>Когда выгоднее использовать временные таблицы и CTE (WITH)?</li></ul>                                                                                                        |
| *Индексы и производительность*                  | <ul><li>Что такое индекс и зачем он нужен?</li><li>Как создать простой индекс (CREATE INDEX)?</li><li>Когда индекс помогает ускорить WHERE или JOIN?</li></ul>                                                                                                                                          | <ul><li>Как работают составные и уникальные индексы?</li><li>Как влияет порядок колонок в индексе?</li><li>Когда не стоит использовать индексы (малый объем, частые вставки)?</li></ul>                                                                                                 | <ul><li>Как анализировать планы выполнения (EXPLAIN, Query Plan)?</li><li>Как балансировать чтение/запись через настройку индексов?</li><li>Когда использовать частичные и фильтрованные индексы?</li></ul>                                                                                        |
| *Транзакции и согласованность*                  | <ul><li>Что такое транзакция и как она работает (BEGIN, COMMIT, ROLLBACK)?</li><li>Как группировать несколько SQL-запросов в одну транзакцию?</li><li>Когда использовать ROLLBACK при ошибке?</li></ul>                                                                                                 | <ul><li>Какой уровень изоляции выбрать (READ COMMITTED, REPEATABLE READ, SERIALIZABLE)?</li><li>Как работают блокировки (row-level, table-level)?</li><li>Когда применять SAVEPOINT и TRY...CATCH?</li></ul>                                                                            | <ul><li>Как проектировать надежные механизмы отката?</li><li>Как обнаруживать и устранять deadlock'и?</li><li>Когда стоит использовать паттерн Outbox или retry транзакции?</li></ul>                                                                                                              |
| *Хранимые процедуры, триггеры, функции*         | <ul><li>Что такое хранимая процедура и как её создать?</li><li>Как выполнять простую бизнес-логику в SQL?</li><li>Когда использовать функцию вместо запроса?</li></ul>                                                                                                                                  | <ul><li>Как передавать параметры в процедуры?</li><li>Как использовать триггеры для аудита или валидации?</li><li>Когда использовать RETURN, OUTPUT, TABLE FUNCTION?</li></ul>                                                                                                          | <ul><li>Как разделять ответственность между кодом и БД (и где лучше логика)?</li><li>Как тестировать и отлаживать процедуры?</li><li>Когда функции ухудшают читаемость или перформанс — и как это исправить?</li></ul>                                                                             |
| *Миграции и DevOps для БД*                      | <ul><li>Что такое миграция и зачем её делать?</li><li>Как вручную изменять схему в SQL?</li><li>Когда нужно сохранять DDL-скрипты?</li></ul>                                                                                                                                                            | <ul><li>Как использовать миграции с EF Core?</li><li>Как откатывать миграции?</li><li>Когда использовать CI/CD для БД?</li></ul>                                                                                                                                                        | <ul><li>Как управлять версиями БД в команде (в том числе rollback-стратегии)</li><li>Как настраивать миграции в микросервисной архитектуре</li><li>Когда стоит использовать автоматические миграции, а когда только ручные</li></ul>                                                               |
| *Работа с MS SQL через C# (SqlCommand, Dapper)* | <ul><li>Что такое SqlConnection, SqlCommand, и как выполнить простой запрос</li><li>Как безопасно передавать параметры через SqlParameter</li><li>Когда использовать ExecuteReader, ExecuteNonQuery, ExecuteScalar</li><li>Как подключиться к БД через строку подключения (connection string)</li></ul> | <ul><li>Как использовать Dapper для маппинга данных в C# объекты?</li><li>Как правильно обрабатывать IDisposable (using) при работе с SQL?</li><li>Когда использовать транзакции через SqlTransaction?</li><li>Как логировать SQL-запросы и параметры (например, для аудита)?</li></ul> | <ul><li>Как проектировать репозитории с использованием Dapper?</li><li>Как обрабатывать ошибки соединения, таймауты и retry (например, через Polly)?</li><li>Когда стоит использовать Dapper, а когда EF Core — и почему?</li><li>Как оптимизировать Dapper-запросы под большие выборки?</li></ul> |